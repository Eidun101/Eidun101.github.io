<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Tennis</title>
<style>
  body{
    margin:0;
    background:radial-gradient(circle at center,#0f172a,#1e293b);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    color:white;
    font-family:sans-serif;
  }
  canvas{
    border:4px solid #38bdf8;
    border-radius:12px;
    background:#0a0a0a;
  }
</style>
</head>
<body>
<canvas id="game" width="800" height="500"></canvas>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

const player={x:canvas.width/2-50,y:canvas.height-20,w:100,h:10,speed:8,color:"#38bdf8"};
const ai={x:canvas.width/2-50,y:10,w:100,h:10,color:"#818cf8"};
const ball={x:canvas.width/2,y:canvas.height/2,r:10,dx:5,dy:4,color:"#facc15"};

let playerScore=0,aiScore=0;

function drawRect(p){ctx.fillStyle=p.color;ctx.fillRect(p.x,p.y,p.w,p.h);}
function drawBall(){ctx.beginPath();ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);ctx.fillStyle=ball.color;ctx.fill();ctx.closePath();}
function drawScore(){
  ctx.font="20px sans-serif";
  ctx.fillStyle="#38bdf8";ctx.fillText(`You: ${playerScore}`,20,canvas.height-20);
  ctx.fillStyle="#818cf8";ctx.fillText(`AI: ${aiScore}`,20,40);
}
function resetBall(){
  ball.x=canvas.width/2;
  ball.y=canvas.height/2;
  ball.dx=(Math.random()>0.5?5:-5);
  ball.dy=(Math.random()>0.5?4:-4);
}

function update(){
  // Move ball
  ball.x+=ball.dx;
  ball.y+=ball.dy;

  // Wall bounce
  if(ball.x-ball.r<0||ball.x+ball.r>canvas.width){ball.dx*=-1;}

  // Player bounce
  if(ball.y+ball.r>player.y&&ball.x>player.x&&ball.x<player.x+player.w){
    ball.dy*=-1;
    // Add spin based on where it hits the paddle
    let hitPoint=(ball.x-(player.x+player.w/2))/(player.w/2);
    ball.dx+=hitPoint*2;
  }

  // AI bounce
  if(ball.y-ball.r<ai.y+ai.h&&ball.x>ai.x&&ball.x<ai.x+ai.w){
    ball.dy*=-1;
    let hitPoint=(ball.x-(ai.x+ai.w/2))/(ai.w/2);
    ball.dx+=hitPoint*2;
  }

  // Score check
  if(ball.y-ball.r<0){playerScore++;resetBall();}
  if(ball.y+ball.r>canvas.height){aiScore++;resetBall();}

  // AI follows ball
  const target=ball.x-ai.w/2;
  ai.x+=(target-ai.x)*0.05;

  // Keep paddles inside bounds
  player.x=Math.max(0,Math.min(player.x,canvas.width-player.w));
  ai.x=Math.max(0,Math.min(ai.x,canvas.width-ai.w));
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawRect(player);
  drawRect(ai);
  drawBall();
  drawScore();
}

function gameLoop(){
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

// Player controls
document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft"||e.key==="a")player.x-=player.speed;
  if(e.key==="ArrowRight"||e.key==="d")player.x+=player.speed;
});

// Touch controls for phone
canvas.addEventListener("touchmove",e=>{
  const touch=e.touches[0];
  const rect=canvas.getBoundingClientRect();
  player.x=touch.clientX-rect.left-player.w/2;
});

resetBall();
gameLoop();
</script>
</body>
</html>
